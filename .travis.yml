language: python
python:
 - "3.5.4"

service:
 - postgresql

before_install:
 - psql -c "CREATE DATABASE todo;" -U postgres
 - psql -c "CREATE USER murungi WITH PASSWORD 'myPassword';" -U postgres

install:
 - pip install -r requirements.txt
 # Submit coverage report to coveralls.io.
 - pip install coveralls

script:
 - python manage.py tests
 - coverage run --source=app manage.py tests

after_success:
 - coveralls
